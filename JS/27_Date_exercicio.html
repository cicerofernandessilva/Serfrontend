<!doctype html>
<!--o doctype informa ao agente usuário(brawnser) a versão do HTML que deve ser renderizado-->
<html lang="pt-br">
    <head>
        <title>Pagina de exemplo de estrutura básica</title>
        <meta charset="utf-8">
        <meta name="Author" content="Cídero">
        <meta name="description" content="Lista de documentos">
        <meta name="keywords" content="html5, tecnologia">

    </head>
    <body>
        <h1>Estrutura básica JS - Demonstrar tempo para completar ano </h1>
        <div></div>
        
        <script>
            (function(){
                "use strict";
                var $dv = document.querySelector('div');
                window.addEventListener('load', init)
                
                function init(){
                    var dataAtual = new Date();
                    dataAtual.setHours(0);
                    dataAtual.setMinutes(0);
                    dataAtual.setSeconds(0);
                    dataAtual.setMilliseconds(0);
                    var anoAtual = dataAtual.getFullYear();

                    var dataNiver = new Date(anoAtual, 8, 12);

                    var dataAtualTs = dataAtual.getTime();
                    var dataNiverTs = dataNiver.getTime();

                    if(dataNiverTs === dataAtualTs){
                        alert("Parabéns! Feliz aniversário!");
                        return;
                    }

                    if(dataNiverTs < dataAtualTs){
                        dataNiver.setFullYear(++anoAtual);
                        dataNiverTs = dataNiver.getTime();
                    }
                    
                    const UM_DIA = 24 * 60 * 60 * 1000;
                    var diferenca = dataNiverTs - dataAtualTs;

                    $dv.innerHTML = 'Faltam ' + (diferenca / UM_DIA) + ' dias para o seu aniversário!';
                }


            })()
        </script>
    </body>
</html>